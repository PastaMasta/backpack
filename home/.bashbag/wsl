# Bashrc functions for use in a WSL environment.
if [[ -n ${WSL_DISTRO_NAME} ]] ; then

  alias wsl=wsl.exe

  # Powerhell
  alias powershell=powershell.exe

  # Clipboard on WSL, removing the trailing newline
  alias clip="sed -z '$ s/\n$//' | clip.exe"

  function windows_get_dns_ip {
    powershell.exe Get-DnsClientServerAddress | awk -F '[{}]' '/IPv4.*{.+}/ {print $2}' \
      | awk -F, '{print $1}' \
      | sort -u \
      | head -1
  }

fi
