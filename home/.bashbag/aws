# .bashrc AWS functions

function ec2-get-private-ip {
  aws ec2 describe-instances \
    --filters "Name=tag:Name,Values=$1" "Name=instance-state-name,Values=running" \
    --query "Reservations[*].Instances[*].{Instance:PrivateIpAddress}" --output text
}

function ssmget {
  for i in $* ; do
    aws ssm get-parameter --name $i | jq -r .Parameter.Value
  done
}

function smget {
  for i in $* ; do
    aws secretsmanager get-secret-value --secret-id $i | jq -r .SecretString
  done
}
